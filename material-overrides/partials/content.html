{#-
  This file was automatically generated - do not edit
-#}
{% include "partials/tags.html" %}
{% set rendered_content = page.content %}

{% if "faq" in page.url %}
  {# Split content for each FAQ by h2 #}
  {% set h2_sections = rendered_content.split('<h2') %}
  {% set intro_content = h2_sections[0] %}
  
  {# Keep any introduction content intact #}
  {% if intro_content %}
    {{ intro_content | safe }}
  {% endif %}
  
  {# Process each FAQ section #}
  {% for i in range(1, h2_sections | length) %}
    {% set section = h2_sections[i] %}
    {% set section_counter = loop.index %}
    
    {# Extract h2 content #}
    {% set h2_end = section.find('</h2>') %}
    {% if h2_end != -1 %}
      {% set h2_full = section[:h2_end] %}
      {% set h2_content_start = h2_full.find('>') + 1 %}
      {% set h2_text = h2_full[h2_content_start:] %}
      {% set h2_attributes = h2_full[:h2_content_start-1] %}
      {% set normalized_h2_text = (h2_text | striptags | trim | replace('Â¶', '')) %}
      {% set h2_attributes_lower = h2_attributes | lower %}
      {# Extract ID from h2 attributes #}
      {% set id_start = h2_attributes.find('id="') %}
      {% set h2_id = '' %}
      {% if id_start != -1 %}
        {% set id_start = id_start + 4 %}
        {% set id_end = h2_attributes.find('"', id_start) %}
        {% set h2_id = h2_attributes[id_start:id_end] %}
      {% endif %}
      {% set h2_id_lower = h2_id | lower %}
      {% set is_excluded_h2 =
        h2_id_lower in [
          "general",
          "agent-mode",
          "instant-ide-mode"
        ]
        or normalized_h2_text in [
          "General",
          "Agent Mode",
          "Instant IDE Mode"
        ]
      %}
      
      {# Get content after h2 until next h2 or end of page #}
      {% set h2_closing_tag_length = 5 %} {# Length of '</h2>' #}
      {% set section_content = section[h2_end + h2_closing_tag_length:] %}
      
      {% if is_excluded_h2 %}
        <h2{{ h2_attributes | safe }}>{{ h2_text | safe }}</h2>
        {{ section_content | safe }}
      {% else %}
        {# Generate unique details ID #}
        {% set details_id = ('faq-' ~ page.url ~ '-' ~ section_counter)
          | replace('/', '-')
          | replace('?', '')
          | replace('#', '')
          | replace('.', '-')
          | replace(' ', '-')
          | replace('--', '-') %}
        <details class="interface faq" id="{{ details_id }}">
          <summary>
            <h2{% if h2_id %} id="{{ h2_id }}"{% endif %}>{{ h2_text | safe }}</h2>
          </summary>
          {{ section_content | safe }}
        </details>
      {% endif %}
    {% endif %}
  {% endfor %}
{% else %}
  {{ rendered_content | safe }}
{% endif %}

{% include "partials/source-file.html" %}
{% include "partials/feedback.html" %}
{% include "partials/comments.html" %}